{% include 'config' %}
in:
  type: jdbc
  driver_path: {{driver_path}}
  driver_class: {{driver_class}}
  url: {{url}}
  user: {{userid}}
  password: {{password}}
  table: M_APCRD_MEM_TMP_MCH
  select: APCRD_NO
          ,MEM_ID
          ,MCH_FLG
          ,REG_DTTM
          ,REG_USR_ID
          ,UPD_DTTM
          ,UPD_USR_ID
          ,DAT_UPD_CLS
          ,UPD_TMS
          ,LGC_DEL_FLG
  where: {{where}}
out:
  type: file
  path_prefix: /opt/scripts/data/Snd_HB_M_APCRD_MEM_TMP_MCH_{{current_timestamp}}
  sequence_format: "."
  file_ext: csv
  formatter:
    type: csv
    delimiter: "|"
    newline: LF
    charset: UTF-8
    quote_policy: NONE
    header_line: false
    default_timezone: "Asia/Tokyo"
    column_options:
      REG_DTTM: {format: '%Y-%m-%d %H:%M:%S'}
      UPD_DTTM: {format: '%Y-%m-%d %H:%M:%S'}
filters:
  - type: eval
    eval_columns:
      - UPD_USR_ID: "'Eval is Evil! ' + value"
